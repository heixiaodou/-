

本篇文章是关于python内置对象类型“列表（list）”的综述以及Python中列表与数组的异同，希望对你理解列表的相关运用有所帮助。

python中的列表和歌曲列表类似，也是由一系列按特定顺序排列的元素组成，它是python中内置的可变序列。在形式上，列表的所有元素都放在一对中括号“[]”中，两个相邻元素间使用逗号“，”分隔。在内容上，可以将整数，实数，字符串，列表，元组等任何类型的内容放入列表中，并且同一个列表中，元素的类型可以不同，因为它们之间没有任何关系。

下面讲述关于列表的一些基础应用。
#  列表相关知识
## 1.列表的创建和删除
1）使用赋值运算符直接创建列表
具体的语法格式如下：

listname = [element 1,element 2,...]

其中，listname表示列表的名称，element 1表示列表中的元素，个数没有限制。
```
num1 = [5,7,8,2]    #定义一个数字列表
num2 = ["优雅","你好","小敏"]    #定义一个字符串列表
print(num1,num2)    #输出列表    
输出结果：
[5, 7, 8, 2] ['优雅', '你好', '小敏']
```
我们也可以从列表中引用其他变量。
```
num1 = 'b'   
num2 = ["a",num1,"c"]   
num2 
输出结果：
["a","b","c"]
```
每个元素后面的逗号和空格对解释方式没有影响，这意味着下列语句是等价的：
```
num1 = ["a","b","c"]   
num2 = ["a","b","c",]   
```
列表也可以分散在多行中，有时候，这样做是为了增强可持续性。
```
num1 = [   
... "a",    
... "b",
... "c"
... ]   
输出结果：
num1 = ["a","b","c"]   
```
一个列表可以包含多种类型的数据。例如，这个列表包含了整数和字符串：
```
num1 = [1,2,3,"a","b","c"]   
num1
输出结果：
[1,2,3,"a","b","c"]   
```
一个列表中甚至可以包含其它列表。
```
num1 = [1,2,[3,4,[5]],"a",3.2,Ture]   
num1
输出结果：
[1,2,[3,4,[5]],"a",3.2,Ture]  
```
2）创建空列表

具体的语法格式如下：

emptylist = []
```
emptylist = []    #创建一个名称为emptylist的空列表
输出结果：
[]
```
3）创建数值列表
可以使用list()函数直接将range()函数循环出来的结果转换为列表。
list()函数基本语法如下：
list(data)
其中，data表示可以转换为列表的数据，其类型可以是range对象，字符串，元组或者其他类型数据。
```
list(range(10,20,2))    #创建一个10-20(不包括20)中所有偶数的列表
输出结果：
[10, 12, 14, 16, 18]    
```
4）删除列表
对于已经创建的列表不再使用，使用del语句删除，语法格式如下：

del listname

其中listname为要删除列表的名称。
```
num1 = [5,7,8,2]    #定义一个列表
del num1
```
## 2.访问列表元素
将列表输出，直接使用print()函数
```
num1 = [5,7,8,2]    #定义一个列表
print(num1)    #输出列表内容
输出结果：
[5, 7, 8, 2]
```
访问单个元素
现在我们使用索引来访问列表中的各个元素：
```
num1 = [1,2,[3,4,[5]],"a",3.2,Ture]   
num1
[1,2,[3,4,[5]],"a",3.2,Ture]
```
索引从0开始，所以第一个元素的索引是0，第二个是1，依次类推。
```
num1[0]   
num1[1]
num1[2]
num1[5]
输出结果：
1
2
[3,4,[5]]
Ture
```
这是最后一个元素，如果我们试图访问超过列表末尾的元素，那么python会抛出IndexError异常：
```
>>> num1[6]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
```
如果你传入一个Python不认可的索引，会得到一个TypeError异常:
```
>>> num1['eggs']
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: list indices must be integers or slices, not str
```
因此，这些TypeErrors异常告诉我们，列表索必须是整数或者slice函数返回值。我们已经讨论了正整数。现在来看一些负整数:
```
>>> num1[-1]   
True
>>> num1[-7]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
```   
1）直接使用for循环实现
直接使用for循环遍历列表，只能输出元素的值。语法格式如下：

for item in listname    #输出 item

其中，item用于保存获取到的元素值，listname为列表名称。
```
verse = ["早上好","你好呀"]    #定义一个列表
for item in verse:    #使用for循环遍历列表
    print(item)    #输出item
输出结果：
早上好
你好呀
```
2）使用for循环和enumerate()函数实现

使用for循环和enumerate()函数可以实现同时输出索引值和元素内容。语法格式如下：

for index,item in enumerate(listname)    #输出index和item

参数说明：

index:用于保存元素的索引

item:用于保存获取到的元素值,输出元素内容时，直接输出该变量即可。

listname:列表名称
```
verse = ["吃饭","睡觉","上学"]
for index,item in enumerate(verse):
    print(index,item)    #输出index,item
输出结果：
0 吃饭
1 睡觉
2 上学
```
## 4.添加，修改和删除列表元素
1）添加元素

使用列表对象的append()方法实现，语法格式如下：

listname.append(obj)

其中，listname为要添加元素的列表名称，obj为要添加到列表末尾的对象。
```
verse = ["吃饭","睡觉","上学"]
len(verse)    #获取列表长度
verse.append("生活三点一线")    #在列表后面添加元素
len(verse)    #获取新列表长度
print(verse)
输出结果：
3
4
['打球', '钓鱼', '唱歌', '生活三点一线']
```
使用列表对象的extend()方法实现将一个列表的全部元素添加到另一个列表中，语法格式如下：

listname.extend(seq)

其中，listname为原列表，seq为要添加的列表。
```
verse1 = ["吃饭","睡觉","上学"]
verse2 = ["打球","钓鱼","唱歌"]
verse2.extend(verse1)    #将第一个列表添加到第二个列表后面
print(verse2)
输出结果：
['打球', '钓鱼', '唱歌', '吃饭', '睡觉', '上学']
```
2）修改元素

修改列表中的元素只需要通过索引获取钙该元素，然后为其重新赋值即可。
```
verse = ["吃饭","睡觉","上学"]
print(verse)
verse[2] = "打球"    #修改列表中的第3个元素
print(verse)
输出结果：
['吃饭', '睡觉', '上学']
['吃饭', '睡觉', '打球']
```
3）删除元素

第一种：根据索引删除，使用del语句实现
```
verse = ["吃饭","睡觉","上学"]
del verse[1]    #通过索引值1，删除列表第二个元素
print(verse)
输出结果：
['吃饭', '上学']
```
第二种：根据元素值删除，使用列表对象的remove()方法实现
```
verse = ["吃饭","睡觉","上学"]
verse.remove("睡觉")    #删除元素“睡觉”
print(verse)
输出结果：
['吃饭', '上学']
```
## 5.对列表进行切片
早些时候，我们是这样做的:
```
>>> num2 = num1[slice(0,6,1)]
>>> num2
[1, 2, [3, 4, [5]], 'a', 3.2, True]
```
从现在开始，我们将使用Python的一个很好的简写(速记)。这和我们之前的做法一样。
```
>>> num2 = num1[0:6:1]
>>> num2
[1, 2, [3, 4, [5]], 'a', 3.2, True]
```
切片的参数被称为start、stop和step。我们先对每一个参数进行更改，看看结果是什么样的。从start开始:
```
>>> num1[0:6:1]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> lnum1[1:6:1]
[2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[2:6:1]
[[3, 4, [5]], 'a', 3.2, True]
>>> num1[-1:6:1]
[True]
>>> num1[-2:6:1]
[3.2, True]
```
一般来说，会显示:some_list[start:stop:step][0] == some_list[start]。但是如果你引用超出列表末尾的某个索引，切片不会引发异常。
```
>>> num1[5000:6:1]
[]
>>> num1[-5000:6:1]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
```
现在，我们来看看stop。请记住，l4 的最后一个元素是True，并且具有索引 5。
```
>>> num1[0:6:1]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[0:5:1]
[1, 2, [3, 4, [5]], 'a', 3.2]
>>> num1[0:4:1]
[1, 2, [3, 4, [5]], 'a']
>>> num1[0:-1:1]
[1, 2, [3, 4, [5]], 'a', 3.2]
>>> num1[0:-2:1]
[1, 2, [3, 4, [5]], 'a']
>>> num1[0:-3:1]
[1, 2, [3, 4, [5]]]
```
一般来说,会显示：some_list[start,stop:step][-1] == some_list[step-1]。同样，引用超出列表末尾的索引也是可以的:
```
>>> num1[0:5000:1]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[0:-5000:1]
[]
```
最后一个参数是step:
```
>>> num1[0:6:1]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[0:6:2]
[1, [3, 4, [5]], 3.2]
>>> num1[0:6:3]
[1, 'a']
>>> num1[0:6:4]
[1, 3.2]
>>> num1[0:6:-1]
>>> []
>>> num1[6:0:-1]
[True, 3.2, 'a', [3, 4, [5]], 2]
>>> num1[6:0:-2]
[True, 'a', 2]
```
如果step是1，那么我们返回列表中的每个元素。如果步骤是2，则每隔一个元素返回一次。负的step值颠倒了列表的顺序，这意味着start和stop需要合适的值。如果step是正值，那么start < stop是有意义的。但是如果step是负值，那么stop < start更有意义。

做得好!现在你可以像专业选手一样进行切片了。还有一件事需要知道:并非所有的切片参数都是必需的。

下面是一些你可以使用的捷径。

首先，step的默认值是1，所以如果你忽略它，一切都没问题。以下代码都是等价的:
```
>>> num1[0:6:1]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[0:6:]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[0:6]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
```
只要有一个冒号:，那么索引就被认为是一个切片。start和stop，切片参数也是可选的。以下代码是等效的：
```
>>> num1[0:6]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[:6]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[0:]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[:]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[::]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
>>> num1[::1]
[1, 2, [3, 4, [5]], 'a', 3.2, True]
```
如果你指定了一个负的step值，也是可行的。
```
>>> num1[5:-7:-1]
[True, 3.2, 'a', [3, 4, [5]], 2, 1]
>>> num1[:-7:-1]
[True, 3.2, 'a', [3, 4, [5]], 2, 1]
>>> num1[5::-1]
[True, 3.2, 'a', [3, 4, [5]], 2, 1]
>>> num1[::-1]
[True, 3.2, 'a', [3, 4, [5]], 2, 1]
```
## 6.对列表进行统计计算
1）获取指定元素出现的次数

使用列表对象的count()方法可以获得指定元素在列表中的出现次数，语法格式如下：

listname.count(obj)

其中，listname表示列表名称，obj表示要判断是否存在的对象。
```
verse = ["吃饭","睡觉","睡觉","上学","睡觉"]
num = verse.count("睡觉")    #计算列表中“睡觉”出现了几次
print(num)
输出结果：
3
```
2）获取指定元素首次出现的下标

使用列表对象的index()方法可以获得指定元素在列表中的首次出现的位置(即索引)，语法格式如下：

listname.index(obj)

其中，listname表示列表名称，obj表示要查找的对象，返回值为首次出现的索引值。
```
verse = ["吃饭","睡觉","睡觉","上学","睡觉"]
position = verse.index("睡觉")    #查找列表中“睡觉”首次出现的位置
print(position)
输出结果：
1
```
3）统计数值列表的元素和

Python中sum()函数用于统计数值列表中各元素的和，语法格式如下：

sum(iterable[,start])

参数说明如下：

iterable:表示要统计的列表；

start:表示统计结果是从哪个数开始，是可选参数，如没有指定，默认值为0。
```
grade = [99,88,97,79,85]    #5名学生语文成绩列表
total = sum(grade)    #计算总成绩
print("语文总成绩为：",total)
输出结果：
语文总成绩为： 448
```
## 7.对列表进行排序

1）使用列表对象的sort()方法实现

列表对象提供sort()方法用于对原列表中的元素进行排序，排序后原列表中的元素顺序将发生改变，语法格式如下：

lisyname.sort(key=None,reverse=False)

参数说明如下：

listname:表示要进行排序的列表；

key:表示指定从每个列表元素中提取一个比较键(例:“key=str.lower”表示在排序时不区分大小写)；

reverse:可选参数，如果将其指定为True，则表示降序排列，如果指定为False，则表示升序排列，默认为升序排列。
```
grade = [99,88,97,79,85]
print("原列表:",grade)
grade.sort()    #对原列表升序排列
print("升序:",grade)
grade.sort(reverse = True)    #对原列表降序排列
print("降序:",grade)
输出结果：
原列表: [99, 88, 97, 79, 85]
升序: [79, 85, 88, 97, 99]
降序: [99, 97, 88, 85, 79]
```
2）使用内置的sorted()函数实现

Python中提供sorted()函数用于对列表进行排序，排序后原列表中的元素顺序不变，语法格式如下：

sorted(iterable,key=None,reverse=False)

参数说明如下：

iterable:表示要进行排序的列表名称；

key:表示指定从每个列表元素中提取一个比较键(例:“key=str.lower”表示在排序时不区分大小写)；

reverse:可选参数，如果将其指定为True，则表示降序排列，如果指定为False，则表示升序排列，默认为升序排列。
```
grade = [99,88,97,79,85]
grade_as = sorted(grade)    #进行升序排列
print("升序:",grade_as)
grade_des = sorted(grade,reverse = True)    #进行降序排列
print("降序:",grade_des)
print("原序列:",grade)
输出结果：
升序: [79, 85, 88, 97, 99]
降序: [99, 97, 88, 85, 79]
原序列: [99, 88, 97, 79, 85]
```
## 8.列表推导式
使用列表推导式可以快速生成一个列表，或者根据某个列表生成满足指定需求的列表。常用语法格式如下：

1）生成指定范围的数值列表，语法格式如下：

list = [Expression for var in range]

参数说明如下：

list:表示生成的列表名称；

Expression:表达式，用于计算新列表的元素；

var:循环遍历；

range:采用range()函数生成的range对象。
```
import random    #导入random模块
randomnumber = [random.randint(10,100) for i in range(10)]    #生成一个包括10个随机数的列表，数的范围在10-100(包括100)
print("生成的随机数为:",randomnumber)
输出结果：
生成的随机数为: [99, 55, 23, 32, 76, 83, 42, 64, 50, 13]
```
(2)根据列表生成指定需求的列表，语法格式如下：

newlist = [Expression for var in list]

参数说明如下：

list:表示新生成的列表名称；

Expression:表达式，用于计算新列表的元素；

var:变量，值为后面列表的每个元素值；

list:用于生成新列表的原列表。

例如定义一个记录商品价格的列表，生成一个商品打五折的列表：

```
price = [1200,1400,2200,1800,2000]    #定义一个记录商品价格的列表
sale = [int(x*0.5) for x in price]    #生成一个商品打五折的列表
print("原价格:",price)
print("打五折的价格:",sale)
输出结果：
原价格: [1200, 1400, 2200, 1800, 2000]
打五折的价格: [600, 700, 1100, 900, 1000]
```
(3)从列表选择符合条件的元素组成新的列表，语法格式如下：

newlist = [Expression for var in list if condition]

参数说明如下：

newlist:表示新生成的列表名称；

Expression:表达式，用于计算新列表的元素；

var:变量，值为后面列表的每个元素值；

list:用于生成新列表的原列表;

condition:条件表达式，用于指定筛选条件。
```
price = [1200,1400,2200,1800,2000]    #定义一个记录商品价格的列表
sale = [x for x in price if x > 1900 ]    #选择价格高于1900的
print("原价格:",price)
print("价格高于1900的:",sale)
输出结果：
原价格: [1200, 1400, 2200, 1800, 2000]
价格高于1900的: [2200, 2000]
```
## 9.二维列表
二维列表中的信息以行和列的形式表示，第一个下标代表元素所在的行，第二个下标代表元素所在的列。

在Python中，创建二维列表有以下三种常用方法。

1）直接定义二维列表

二维列表就是包含列表的列表，即一个列表的每个元素又是一个列表，语法格式如下：

listname = [[元素11，元素12，...元素1n],

[元素21，元素22，...元素2n],

...,

[元素n1，元素n2，...元素nn]]
```
verse = [['鹅','鹅','鹅'],['曲','项','向','天','歌'],['白','毛','浮','绿','水']]
verse
输出结果：
[['鹅', '鹅', '鹅'], ['曲', '项', '向', '天', '歌'], ['白', '毛', '浮', '绿', '水']]
```
2）使用嵌套的for循环创建
```
#创建一个四行五列的二维列表
arr = []    #创建空列表
for i in range(4):
    arr.append([])    #在空列表中再添加一个空列表
    for j in range(5):
        arr[i].append(j)    #为内层列表添加元素
arr
输出结果：
[[0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4]]
```
3）使用列表推导式创建
```
#创建一个四行五列的二维列表
arr = [[j for j in range(5)]for i in range(4)]
arr
输出结果：
[[0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4]]
```
可以通过以下语法格式访问列表中的元素；

listname[下标1][下标2]

参数说明如下：

listname:表示列表名称；

下标1:表示列表中第几行，下标值从0开始；

下标2:表示列表中第几列，下标值从0开始；
```
arr[1][3]
输出结果：
3
```
#  列表与数组异同
## 1.列表list与数组array的定义：
列表是由一系列按特定顺序排列的元素组成，可以将任何东西加入列表中，其中的元素之间没有任何关系；

Python中的列表(list)用于顺序存储结构。它可以方便、高效的的添加删除元素，并且列表中的元素可以是多种类型。

数组也就是一个同一类型的数据的有限集合。
## 2.列表list与数组array的相同点：
都可以根据索引来取其中的元素；
## 3.列表list与数组array的不同点：
1).数组是顺序存储；定义好之后就无法进行扩容了;列表在定义好之后可以扩容。

2).列表list中的元素的数据类型可以不一样。数组array里的元素的数据类型必须一样；

3).列表list不可以进行数学四则运算，数组array可以进行数学四则运算；

4).相对于数组，列表会使用更多的存储空间。

当列表中空白占位低于1/3时，会在内存中开辟一块更大的空间，并将旧列表中存储的地址复制到新列表中，旧列表则被销毁，这样就实现了扩容。因为列表存储的是元素的引用这个特性，而引用所占的内存空间是相同的，这样便可以同时存放不同类型的数据了。
而数组访问时是根据索引和元素的大小计算偏移，如果元素类型不同，所占存储空间不相同，就不能实现随机存储。
```
import numpy as np
lis1=[1,2,3,4]    #lis1是列表类型
a = np.array([1,2,3,4])    #a是数组类型
#从下面print可以看出 list和array都可以根据索引来操作；
print("list",lis1,lis1[0],'\n','array',a,a[0])
#从下面print可以看出list的+法运算是列表长度的增删，与数学计算无关；
#而array的＋法运算是真正的数学四则运算；
print("list+list",lis1+lis1,'\n','array+array',a+a)
输出结果:
list [1, 2, 3, 4] 1 
 array [1 2 3 4] 1
list+list [1, 2, 3, 4, 1, 2, 3, 4] 
 array+array [2 4 6 8]
```
----
-----
关于列表的相关知识就讲到这里啦,感谢您的关注,希望这篇文章对您会有帮助！
